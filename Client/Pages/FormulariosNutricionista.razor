@page "/nutricionista-formularios"
@using GreenCoinHealth.Shared.Models
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize(Roles = "Nutricionista")]

<h3>Panel de Control del Nutricionista</h3>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h4>Formulario de Alimentos</h4>
            <EditForm Model="@formularioAlimentos" OnValidSubmit="@HandleValidSubmitAlimentos">
                <DataAnnotationsValidator />
                <ValidationSummary />

                <div class="form-group">
                    <label for="nombreAlimento">Nombre del Alimento:</label>
                    <InputText id="nombreAlimento" class="form-control" @bind-Value="formularioAlimentos.Nombre" />
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripción:</label>
                    <InputTextArea id="descripcion" class="form-control" @bind-Value="formularioAlimentos.Descripcion" />
                </div>
                <div class="form-group">
                    <label for="tipo">Tipo:</label>
                    <InputText id="tipo" class="form-control" @bind-Value="formularioAlimentos.Tipo" />
                </div>
                <div class="form-group">
                    <label for="precio">Precio:</label>
                    <InputNumber id="precio" class="form-control" @bind-Value="formularioAlimentos.Precio" />
                </div>
                <div class="form-group">
                    <label for="esOrganico">Es Orgánico:</label>
                    <InputCheckbox id="esOrganico" @bind-Value="formularioAlimentos.EsOrganico" />
                </div>
                <div class="form-group">
                    <label for="origen">Origen:</label>
                    <InputText id="origen" class="form-control" @bind-Value="formularioAlimentos.Origen" />
                </div>

                <button type="submit" class="btn btn-success">Guardar Alimento</button>
            </EditForm>
        </div>
        <div class="col-md-6">
            <h4>Formulario de Rutinas</h4>
            <EditForm Model="@formularioEjercicios" OnValidSubmit="@HandleValidSubmitEjercicios">
                <DataAnnotationsValidator />
                <ValidationSummary />

                <div class="form-group">
                    <label for="nombreEjercicio">Nombre del Ejercicio:</label>
                    <InputText id="nombreEjercicio" class="form-control" @bind-Value="formularioEjercicios.Nombre" />
                </div>
                <div class="form-group">
                    <label for="descripcionEjercicio">Descripción:</label>
                    <InputTextArea id="descripcionEjercicio" class="form-control" @bind-Value="formularioEjercicios.Descripcion" />
                </div>
                <div class="form-group">
                    <label for="repeticiones">Repeticiones:</label>
                    <InputNumber id="repeticiones" class="form-control" @bind-Value="formularioEjercicios.Repeticiones" />
                </div>
                <div class="form-group">
                    <label for="series">Series:</label>
                    <InputNumber id="series" class="form-control" @bind-Value="formularioEjercicios.Series" />
                </div>

                <button type="submit" class="btn btn-primary">Guardar Ejercicio</button>
            </EditForm>
        </div>
    </div>
</div>

@code {
    private Alimentos formularioAlimentos = new Alimentos();
    private Ejercicio formularioEjercicios = new Ejercicio();

    private void HandleValidSubmitAlimentos()
    {
        Console.WriteLine("Alimento guardado: " + formularioAlimentos.Nombre);
        // Aquí podrías llamar a un servicio para guardar en la base de datos
        // Ejemplo: await MiServicioDeDatos.GuardarAlimento(formularioAlimentos);
    }

    private void HandleValidSubmitEjercicios()
    {
        Console.WriteLine("Ejercicio guardado: " + formularioEjercicios.Nombre);
        // Aquí podrías llamar a un servicio para guardar en la base de datos
        // Ejemplo: await MiServicioDeDatos.GuardarEjercicio(formularioEjercicios);
    }
}
